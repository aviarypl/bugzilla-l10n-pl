[%# -*- mode: html -*- %]
[%# The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Bugzilla Bug Tracking System.
  #
  # The Initial Developer of the Original Code is Netscape Communications
  # Corporation. Portions created by Netscape are
  # Copyright (C) 1998 Netscape Communications Corporation. All
  # Rights Reserved.
  #
  # Contributor(s): Terry Weissman <terry@mozilla.org>
  #                 Jacob Steenhagen <jake@bugzilla.org>
  #                 Vitaly Harisov  <vitaly@rathedg.com>
  #                 Guy Pyrzak <guy.pyrzak@gmail.com>
  #%]

[%# INTERFACE:
  # release: a hash containing data about new releases, if any.
  #%]

[% PROCESS global/variables.none.tmpl %]


[% PROCESS global/header.html.tmpl
   title = "$terms.Bugzilla Strona Główna"
   header = "Strona główna" 
   header_addl_info = "version $constants.BUGZILLA_VERSION"
   style_urls = [ 'skins/standard/index.css' ]
%]


<script type="text/javascript">
<!--
function onLoadActions() {
  quicksearchHelpText('quicksearch_main', 'show');
  if( window.external.AddSearchProvider ){
    YAHOO.util.Dom.removeClass('quicksearch_plugin', 'bz_default_hidden');
  }
  document.getElementById('quicksearch_top').focus();
}
function addSidebar() {
  var sidebarname=window.location.host;
  if (!/bug/i.test(sidebarname))
    sidebarname="[% terms.Bugzilla %] "+sidebarname;
  window.sidebar.addPanel (sidebarname, "[% urlbase FILTER html %]sidebar.cgi", "");
}
var quicksearch_message = "Numer [% terms.bledu %] lub szukane wyrażenie";

function checkQuicksearch( form ) {
  if (form.quicksearch.value == '' || form.quicksearch.value == quicksearch_message ) { 
    alert('Wpisz jedno lub więcej wyrażeń, których szukasz.');
    return false; 
  }
  return true;         
}

function quicksearchHelpText(el_id, action){
  var el = document.getElementById(el_id);
  if ( action == "show") {
    if( el.value == "" ) {
      el.value = quicksearch_message
      YAHOO.util.Dom.addClass(el, "quicksearch_help_text");
    }
  } else {
    if( el.value == quicksearch_message ) {
      el.value = "";
      YAHOO.util.Dom.removeClass(el, "quicksearch_help_text");
    }
  }
}
YAHOO.util.Event.onDOMReady(onLoadActions);
//-->
</script>

[% IF release %]
  <div id="new_release">
    [% IF release.data %]
      [% IF release.deprecated %]
        <p>[% terms.Bugzilla %] [%+ release.deprecated FILTER html %] nie jest już wspierana.
        W celu zachowania bezpieczeństwa systemu radzimy zaktualizować wersję do najnowszej.</p>
      [% END %]

      <p>Nowa wersja [% terms.Bugzilli %] ([% release.data.latest_ver FILTER html %])
      jest dostępna pod adresem
      <a href="[% release.data.url FILTER html %]">[% release.data.url FILTER html %]</a>.<br>
      Data wydania: [% release.data.date FILTER html %]</p>

      <p class="notice">Ta wiadomość jest wyświetalana jedynie zalogowanym użytkownikom z uprawnieniami administratora.
      Można skonfigurować treść tej wiadomości na stronie
      <a href="editparams.cgi?section=core#upgrade_notification">Parametry</a>.</p>
    [% ELSIF release.error == "missing_package" %]
      <p>Brakujący pakiet '[% release.package FILTER html %]'. ten pakiet jest wymagany do
      <a href="editparams.cgi?section=core#upgrade_notification">informowania o nowych wydaniach</a>.</p>
    [% ELSIF release.error == "cannot_download" %]
      <p>Lokalny plik XML '[% release.xml_file FILTER html %]' nie może zostać utworzony.
      Proszę upewnić się, że serwer WWW może zapisywać do tego katalogu i sieć jest dostępna.
      W przypadku korzystania z serwera proxy, należy poprawnie ustawić parametr 
      <a href="editparams.cgi?section=core#proxy_url">proxy_url</a>.</p>
    [% ELSIF release.error == "no_update" %]
      <p>Lokalny plik XML '[% release.xml_file FILTER html %]' nie może być zaktualizowany.
      Proszę sprawdzić czy serwer WWW może zapisywać do tego pliku.</p>
    [% ELSIF release.error == "no_access" %]
      <p>Lokalny plik XML '[% release.xml_file FILTER html %]' nie może być odczytany.
      Proszę sprawdzić czy ten plik posiada odpowiednie prawa.</p>
    [% ELSIF release.error == "corrupted" %]
      <p>Lokalny plik XML '[% release.xml_file FILTER html %]' posiada błędny format XML.
      Proszę usunąć ten plik i otworzyć tę stronę ponownie.</p>
    [% ELSIF release.error == "unknown_parameter" %]
      <p>'[% Param("upgrade_notification") FILTER html %]' nie jest poprawnym parametrwm powiadamiania
      Proszę sprawdzić ustawienie na stronie 
      <a href="editparams.cgi?section=core#upgrade_notification">Parametery</a>.</p>
    [% END %]
  </div>
[% END %]

<div id="page-index">
  <div class="intro"></div>
  <table>
    <tr>
      <td>
        <h1 id="welcome"> Witamy w [% terms.Bugzilli %]</h1>
        <a id="enter_bug" class="bz_common_actions"
           href="enter_bug.cgi"><span>Dodaj nowy [% terms.blad %]</span></a>
      
        <a id="query" class="bz_common_actions" 
           href="query.cgi"><span>Szukaj</span></a>
      
        <a id="account" class="bz_common_actions"
          [% IF user.id %]
            href="userprefs.cgi"><span>Ustawienia</span></a>
          [% ELSIF Param('createemailregexp')
                   && user.authorizer.user_can_create_account 
          %]
            href="createaccount.cgi"><span>Nowe konto</span></a>
          [% ELSE %]
            href="?GoAheadAndLogIn=1"><span>Zaloguj</span></a>
          [% END %]

        <form id="quicksearchForm" name="quicksearchForm" action="buglist.cgi"
              onsubmit="return checkQuicksearch(this);">
          <div>
            <input id="quicksearch_main" type="text" name="quicksearch"
              onfocus="quicksearchHelpText(this.id, 'hide');"
              onblur="quicksearchHelpText(this.id, 'show');"
            >
            <input id="find" type="submit" value="Szybkie wyszukiwanie">
            <ul class="additional_links" id="quicksearch_links">
              <li>
                <a href="page.cgi?id=quicksearch.html">Pomoc przy wyszukiwaniu</a>
              </li>
              <li class="bz_default_hidden" id="quicksearch_plugin">
                |
                <a href="javascript:window.external.AddSearchProvider('[% urlbase FILTER html %]search_plugin.cgi')">
                 Zainstaluj wtyczkę szybkiego wyszukiwania
                </a>
              </li>
            </ul>
            <ul class="additional_links">
              <li>
                <a href="[% docs_urlbase FILTER html %]using.html">
                  Podręcznik użytkownika [%- terms.Bugzilli %]
                </a>
                &nbsp;|
              </li>
              <li>
                <a href="page.cgi?id=release-notes.html" >Informacje o wydaniu</a>
              </li>
            </ul>
          </div>
        </form>
      </td>
    </tr>
  </table>
  <div class="outro"></div>
</div>

[% PROCESS global/footer.html.tmpl %]
