<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>
Bugzilla::Attachment</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
  <body id="pod">
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>
<h1>Bugzilla::Attachment</h1>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Instance_Properties'>Instance Properties</a>
    <li class='indexItem indexItem2'><a href='#Class_Methods'>Class Methods</a>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Bugzilla::Attachment - a file related to a bug that a user has uploaded to the Bugzilla server</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre  class="code">  use Bugzilla::Attachment;

  # Get the attachment with the given ID.
  my $attachment = Bugzilla::Attachment-&#62;get($attach_id);

  # Get the attachments with the given IDs.
  my $attachments = Bugzilla::Attachment-&#62;get_list($attach_ids);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module defines attachment objects, which represent files related to bugs that users upload to the Bugzilla server.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Instance_Properties"
>Instance Properties</a></h2>

<dl>
<dt><a name="id"
><code  class="code">id</code></a></dt>

<dd>
<p>the unique identifier for the attachment</p>
</dd>
</dl>

<dl>
<dt><a name="bug_id"
><code  class="code">bug_id</code></a></dt>

<dd>
<p>the ID of the bug to which the attachment is attached</p>
</dd>
</dl>

<dl>
<dt><a name="description"
><code  class="code">description</code></a></dt>

<dd>
<p>user-provided text describing the attachment</p>
</dd>
</dl>

<dl>
<dt><a name="contenttype"
><code  class="code">contenttype</code></a></dt>

<dd>
<p>the attachment&#39;s MIME media type</p>
</dd>
</dl>

<dl>
<dt><a name="attacher"
><code  class="code">attacher</code></a></dt>

<dd>
<p>the user who attached the attachment</p>
</dd>
</dl>

<dl>
<dt><a name="attached"
><code  class="code">attached</code></a></dt>

<dd>
<p>the date and time on which the attacher attached the attachment</p>
</dd>
</dl>

<dl>
<dt><a name="filename"
><code  class="code">filename</code></a></dt>

<dd>
<p>the name of the file the attacher attached</p>
</dd>
</dl>

<dl>
<dt><a name="ispatch"
><code  class="code">ispatch</code></a></dt>

<dd>
<p>whether or not the attachment is a patch</p>
</dd>
</dl>

<dl>
<dt><a name="isurl"
><code  class="code">isurl</code></a></dt>

<dd>
<p>whether or not the attachment is a URL</p>
</dd>
</dl>

<dl>
<dt><a name="isobsolete"
><code  class="code">isobsolete</code></a></dt>

<dd>
<p>whether or not the attachment is obsolete</p>
</dd>
</dl>

<dl>
<dt><a name="isprivate"
><code  class="code">isprivate</code></a></dt>

<dd>
<p>whether or not the attachment is private</p>
</dd>
</dl>

<dl>
<dt><a name="data"
><code  class="code">data</code></a></dt>

<dd>
<p>the content of the attachment</p>
</dd>
</dl>

<dl>
<dt><a name="datasize"
><code  class="code">datasize</code></a></dt>

<dd>
<p>the length (in characters) of the attachment content</p>
</dd>
</dl>

<dl>
<dt><a name="flags"
><code  class="code">flags</code></a></dt>

<dd>
<p>flags that have been set on the attachment</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Class_Methods"
>Class Methods</a></h2>

<dl>
<dt><a name="get_attachments_by_bug($bug_id)"
><code  class="code">get_attachments_by_bug($bug_id)</code></a></dt>

<dd>
<p>Description: retrieves and returns the attachments the currently logged in user can view for the given bug.</p>

<p>Params: <code  class="code">$bug_id</code> - integer - the ID of the bug for which to retrieve and return attachments.</p>

<p>Returns: a reference to an array of attachment objects.</p>

<dt><a name="validate_is_patch()"
><code  class="code">validate_is_patch()</code></a></dt>

<dd>
<p>Description: validates the &#34;patch&#34; flag passed in by CGI.</p>

<p>Returns: 1 on success.</p>

<dt><a name="validate_description()"
><code  class="code">validate_description()</code></a></dt>

<dd>
<p>Description: validates the description passed in by CGI.</p>

<p>Returns: 1 on success.</p>

<dt><a name="validate_content_type()"
><code  class="code">validate_content_type()</code></a></dt>

<dd>
<p>Description: validates the content type passed in by CGI.</p>

<p>Returns: 1 on success.</p>

<dt><a name="validate_can_edit($attachment,_$product_id)"
><code  class="code">validate_can_edit($attachment, $product_id)</code></a></dt>

<dd>
<p>Description: validates if the user is allowed to view and edit the attachment. Only the submitter or someone with editbugs privs can edit it. Only the submitter and users in the insider group can view private attachments.</p>

<p>Params: $attachment - the attachment object being edited. $product_id - the product ID the attachment belongs to.</p>

<p>Returns: 1 on success. Else an error is thrown.</p>

<dt><a name="validate_obsolete($bug)"
><code  class="code">validate_obsolete($bug)</code></a></dt>

<dd>
<p>Description: validates if attachments the user wants to mark as obsolete really belong to the given bug and are not already obsolete. Moreover, a user cannot mark an attachment as obsolete if he cannot view it (due to restrictions on it).</p>

<p>Params: $bug - The bug object obsolete attachments should belong to.</p>

<p>Returns: 1 on success. Else an error is thrown.</p>

<dt><a name="insert_attachment_for_bug($throw_error,_$bug,_$user,_$timestamp,_$hr_vars)"
><code  class="code">insert_attachment_for_bug($throw_error, $bug, $user, $timestamp, $hr_vars)</code></a></dt>

<dd>
<p>Description: inserts an attachment from CGI input for the given bug.</p>

<p>Params: <code  class="code">$bug</code> - Bugzilla::Bug object - the bug for which to insert the attachment. <code  class="code">$user</code> - Bugzilla::User object - the user we&#39;re inserting an attachment for. <code  class="code">$timestamp</code> - scalar - timestamp of the insert as returned by SELECT NOW(). <code  class="code">$hr_vars</code> - hash reference - reference to a hash of template variables.</p>

<p>Returns: the ID of the new attachment.</p>
</dd>
</dl>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
